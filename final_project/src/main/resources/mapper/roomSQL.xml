<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="r">

<!-- 하나의 숙박 상품에 대한 객실들만 전부 조회 -->
<!-- 숙박 상품 House로부터 받은 roomTitle 및 roomCapa과 일치하면서 ROOM_ENABLE이 1인 모든 Row들을 SELECT  -->
	<select id="selectAllAvailableRoom" parameterType="kr.co.house.model.vo.FindRoomByCondition" resultMap="r">
		SELECT
		ROOM_NO as roomNo,
		ROOM_TITLE as roomTitle,
		ROOM_CAPA as roomCapa,
		ROOM_NAME as roomName,
		ROOM_PRICE as roomPrice
		FROM ROOM WHERE ROOM_TITLE = ${roomTitle} AND ROOM_CATA = ${roomCapa} AND ROOM_ENABLE = 1
	</select>




<!-- 객실 Room 의 모든 column에 대한 resultMap -->
	<resultMap type="r" id="getRoom">
		<result column="ROOM_NO" property="roomNo"></result>
		<result column="ROOM_TITLE" property="roomTitle"></result>
		<result column="ROOM_CAPA" property="roomCapa"></result>
		<result column="MEMBER_ID" property="memberId"></result>
		<result column="ROOM_NAME" property="roomName"></result>
		<result column="ROOM_DESCRIPTION" property="roomDescription"></result>
		<result column="ROOM_PRICE" property="roomPrice"></result>
		<result column="ROOM_ENABLE" property="roomEnable"></result>
	</resultMap>

</mapper>
