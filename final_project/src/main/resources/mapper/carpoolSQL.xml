<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="carpool">

 
 <!-- 전체카풀조회(carpoolMain 페이지용)-->
 	<select id="selectAllCarpool" resultType="c">
 	select 
 		carpool_no as carpoolNo,
 		oneway_round as onewayRound,
 		departure_region as departureRegion,
 		departure_district as departureDistrict,
 		arrival_region as arrivalRegion,
 		arrival_district as arrivalDistrict,
 		capacity as capacity,
 		surfboard_room as surfboardRoom,
 		driver_msg as driverMsg,
 		NVL(GET_PASSENGER, 0) AS RESERVED
 	FROM CARPOOL
 		LEFT JOIN (SELECT CARPOOL_NO, COUNT(CARPOOL_NO) AS GET_PASSENGER FROM CARPOOL RIGHT JOIN PASSENGER USING (CARPOOL_NO) WHERE MATCH_STATUS=0 GROUP BY CARPOOL_NO)
 		USING (CARPOOL_NO)
	</select>
	
	<!--  
	<select id="selectOneCarpool" parameterType="c" resultType="c">
	select
		driver_no as driverNo,
		reg_date as regDate,
		carpool_no as carpoolNo,
		departure_region as departureRegion,
		departure_district as departureDistrict,
		arrival_region as arrivalRegion,
		arrival_district as arrivalDistrict,
		capacity as capacity,
		
			
	
	
	</select>
	-->
	
 
 
 
 
 
</mapper>
